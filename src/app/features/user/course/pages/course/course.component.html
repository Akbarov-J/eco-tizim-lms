<div class="max-w-[1170px] mx-auto border-x border-[#0208171A]">
    <app-common-header [label]="course.title">
        <!-- <button
        class="cursor-pointer w-[375px] bg-[#3FC0DB] font-medium text-white rounded-xl flex justify-center gap-2.5 py-[13px]"
        [routerLink]="['/course', course.id]"
        >
        <p>{{ 'Kursni boshlash' }}</p>
        <span [class]="'icon-right'"></span>
    </button> -->
    </app-common-header>
</div>
<hr class="border-gray-200" />
<div class="max-w-[1170px] mx-auto border-x border-[#0208171A] p-2">
    <!-- Главный блок -->
    <div class="mx-auto grid grid-cols-1 lg:grid-cols-[2fr_5fr] gap-6">
        <!-- Список видео (левая панель) -->
        <aside
            class="bg-white rounded-xl shadow-md p-4 overflow-y-auto"
            style="max-height: calc(100svh - 175px)"
        >
            @for (module of course.modules; track $index) {
                <h2 class="text-xl font-bold mb-4">{{ module.module }}</h2>
                <ul class="space-y-2 mb-6">
                    <li
                        *ngFor="let lesson of module.lessons"
                        (click)="selectVideo(lesson)"
                        class="cursor-pointer px-4 py-3 rounded-lg hover:bg-blue-50 transition"
                        [class.bg-blue-100]="lesson.id === selectedLesson.id"
                    >
                        <div class="font-medium text-gray-800">
                            {{ lesson.title }}
                        </div>
                        <div class="text-sm text-gray-500">
                            {{ lesson.time }}
                        </div>
                    </li>
                </ul>
            }
        </aside>

        <!-- Видео и информация -->
        <section class="flex flex-col">
            <!-- Видео плеер -->
            <div
                class="bg-black w-full rounded-xl overflow-hidden shadow-lg mb-6 flex-1"
            >
                @if (selectedLesson.isYoutube) {
                    <iframe
                        class="w-full h-full"
                        [src]="selectedLesson.videoUrl | appSafeUrl"
                        frameborder="0"
                        allowfullscreen
                    >
                    </iframe>
                } @else {
                    <app-custom-video-player
                        [videoSrc]="selectedLesson.videoUrl"
                    ></app-custom-video-player>
                }
            </div>

            <!-- Информация о серии -->
            <div class="bg-white rounded-xl shadow-md p-6">
                <h3 class="text-2xl font-bold mb-2">
                    {{ selectedLesson.title }}
                </h3>
                <!-- <p class="text-gray-700 mb-4">
                    {{ selectedLesson.description }}
                </p>

                <h4 class="text-lg font-semibold mb-2">Homework</h4>
                <ul class="list-disc pl-6 text-gray-700 space-y-1">
                    <li *ngFor="let task of selectedVideo.homework">
                        {{ task }}
                    </li>
                </ul> -->
            </div>
        </section>
    </div>
</div>
